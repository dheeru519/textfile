pipeline 
{
    agent any 
    options { 
        disableConcurrentBuilds() 
        buildDiscarder(logRotator(numToKeepStr: '20', daysToKeepStr: '10'))
    }
    parameters {
        string(name: 'BuildNo', defaultValue: '1.0.$BUILD_NUMBER.0', description: 'Build Number')
    }
    stages {

        stage('MongoDB Backup Creation') {
		steps {
				script
				{
  				    bat'''
					echo "Back up creating"					
					mongodump --uri="mongodb+srv://dbUser:Nfs5YEyvdZJgiqxk@cluster0.ozth0.mongodb.net/dPDR_Qa" 
					echo "Back up created"	
					xcopy dump* "E:\\DBBackup\\MongoDB\\backup" 
					echo "Back up moved to E drive"	
					'''
				}
        	}
    	}
    }
}
